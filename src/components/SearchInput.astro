---
interface Props {
  id?: string;
  placeholder?: string;
  showClearButton?: boolean;
}

const {
  id = 'search-input',
  placeholder = 'Search posts...',
  showClearButton = false,
} = Astro.props;
---

<div class="relative">
  <svg
    class="absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400 dark:text-gray-600"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
    stroke-width="2"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
  </svg>
  <input
    id={id}
    type="text"
    placeholder={placeholder}
    autocomplete="off"
    class="w-full rounded border border-gray-200 bg-white py-2 pl-10 pr-4 text-sm text-gray-900 outline-none transition-colors placeholder:text-gray-400 focus:border-gray-400 dark:border-gray-800 dark:bg-black dark:text-gray-100 dark:placeholder:text-gray-600 dark:focus:border-gray-600"
  />
  {
    showClearButton && (
      <button
        id="clear-search"
        class="absolute right-3 top-1/2 hidden -translate-y-1/2 text-gray-400 transition-colors hover:text-gray-900 dark:text-gray-600 dark:hover:text-gray-100"
        aria-label="Clear search"
      >
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    )
  }
</div>
